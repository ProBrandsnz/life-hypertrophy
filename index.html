<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hypertrophy OS - Anthony's Complete Transformation System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background-color: #f5f0e6; min-height: 100vh; line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%); padding: 30px; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center; }
        .header h1 { color: #ea580c; font-size: 2.5rem; margin-bottom: 10px; font-weight: 800; }
        .header p { color: #9a3412; font-size: 1.1rem; font-weight: 500; }
        .card { background: white; padding: 25px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .btn { background: #ea580c; color: white; border: none; padding: 14px 28px; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: 600; width: 100%; margin-top: 12px; transition: all 0.3s ease; }
        .btn:hover { background: #dc2626; }
        .btn-blue { background: #2563eb; }
        .btn-green { background: #16a34a; }
        .btn-small { width: auto; padding: 8px 16px; font-size: 14px; }
        .nav-tabs { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 25px; }
        .nav-tab { padding: 12px 20px; background: #e5e7eb; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; }
        .nav-tab.active { background: #ea580c; color: white; }
        .hidden { display: none; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 25px; }
        .progress-bar { width: 100%; height: 10px; background: #e5e7eb; border-radius: 5px; margin-top: 10px; overflow: hidden; }
        .progress-fill { height: 100%; background: #16a34a; border-radius: 5px; transition: width 0.5s ease; }
        .progress-fill.blue { background: #2563eb; }
        .progress-fill.purple { background: #9333ea; }
        .input-field { width: 100%; padding: 12px 16px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 16px; margin-bottom: 15px; }
        .input-field:focus { outline: none; border-color: #ea580c; }
        .textarea-field { width: 100%; padding: 12px 16px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 16px; margin-bottom: 15px; resize: vertical; min-height: 100px; }
        .textarea-field:focus { outline: none; border-color: #ea580c; }
        .flame-alert { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-left: 6px solid #f59e0b; padding: 20px; border-radius: 10px; margin-bottom: 25px; }
        .flame-title { color: #92400e; font-weight: bold; font-size: 1.2rem; margin-bottom: 10px; }
        .flame-text { color: #b45309; font-size: 1rem; margin-bottom: 15px; }
        .statement-card { background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%); padding: 20px; border-radius: 10px; border-left: 4px solid #ea580c; margin: 15px 0; }
        .statement-title { color: #ea580c; font-weight: bold; font-size: 1.1rem; margin-bottom: 10px; }
        .statement-text { color: #374151; line-height: 1.6; }
        .meal-card { background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 10px; padding: 20px; margin-bottom: 15px; }
        .food-item { background: white; padding: 15px; margin: 10px 0; border-radius: 8px; border: 1px solid #e5e7eb; }
        .food-item h5 { color: #374151; margin-bottom: 8px; }
        .food-details { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 5px; }
        .protein-value { color: #16a34a; font-weight: 600; }
        .exercise-card { background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 10px; padding: 20px; margin-bottom: 15px; }
        .set-tracker { display: flex; gap: 10px; align-items: center; margin: 10px 0; }
        .set-input { width: 80px; padding: 8px; border: 1px solid #d1d5db; border-radius: 5px; text-align: center; }
        .exercise-complete { background: #f0fdf4; border-color: #16a34a; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî• Hypertrophy OS</h1>
            <p>Walking Towards the Flames - Your Complete Transformation Protocol</p>
            <div style="margin-top: 15px; font-size: 0.9rem; color: #7c2d12;">
                <strong>Today:</strong> <span id="current-date"></span>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showView('dashboard')">üè† Dashboard</button>
            <button class="nav-tab" onclick="showView('statements')">üìú Daily Reading</button>
            <button class="nav-tab" onclick="showView('morning')">üåÖ Morning</button>
            <button class="nav-tab" onclick="showView('evening')">üåô Evening</button>
            <button class="nav-tab" onclick="showView('nutrition')">üçé Nutrition</button>
            <button class="nav-tab" onclick="showView('training')">üí™ Training</button>
        </div>

        <!-- Dashboard View -->
        <div id="dashboard-view">
            <div class="grid">
                <div class="card" style="border: 3px solid #9333ea; background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);">
                    <h3>üìú Daily Reading</h3>
                    <p>Your 7 Statements of Intent</p>
                    <div>Status: <span id="reading-status">Not Started</span></div>
                    <button class="btn" style="background: #9333ea;" onclick="showView('statements')">üìñ Read Daily Statements</button>
                </div>
                <div class="card" style="border: 3px solid #ea580c; background: linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%);">
                    <h3>üåÖ Morning Ritual</h3>
                    <p>Tim's 18 Questions & Flame Identification</p>
                    <div>Status: <span id="morning-status">Pending</span></div>
                    <button class="btn" onclick="showView('morning')">üî• Start Morning Practice</button>
                </div>
                <div class="card" style="border: 3px solid #2563eb; background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);">
                    <h3>üåô Evening Ritual</h3>
                    <p>6 Reflections & Performance Scoring</p>
                    <div>Status: <span id="evening-status">Pending</span></div>
                    <button class="btn btn-blue" onclick="showView('evening')">üß† Start Evening Practice</button>
                </div>
            </div>

            <div class="card">
                <h3>Today's Performance</h3>
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 3.5rem; font-weight: 900; color: #374151; margin-bottom: 5px;" id="average-score">0.0/5</div>
                    <p style="color: #6b7280;">Daily Average</p>
                </div>
            </div>

            <div class="grid">
                <div class="card">
                    <h4>üéØ Weight Goal</h4>
                    <div style="font-size: 2rem; font-weight: 900; color: #374151; margin: 8px 0;" id="current-weight">105kg</div>
                    <div style="color: #6b7280; margin-bottom: 8px;">Target: 98kg</div>
                    <div class="progress-bar">
                        <div class="progress-fill blue" id="weight-progress" style="width: 0%"></div>
                    </div>
                    <input type="number" class="input-field" id="weight-input" value="105" onchange="updateWeight()" placeholder="Current weight">
                </div>

                <div class="card">
                    <h4>üçé Protein Today</h4>
                    <div style="font-size: 2rem; font-weight: 900; color: #374151; margin: 8px 0;" id="protein-display">0g</div>
                    <div style="color: #6b7280; margin-bottom: 8px;">Target: 265.8g</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="protein-progress" style="width: 0%"></div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <input type="number" class="input-field" id="protein-input" value="0" onchange="updateProtein()" placeholder="Protein" style="width: 60%;">
                        <button class="btn btn-green btn-small" onclick="addProtein(25)">+25g</button>
                    </div>
                </div>

                <div class="card">
                    <h4>üí∞ Thailand Fund</h4>
                    <div style="font-size: 2rem; font-weight: 900; color: #374151; margin: 8px 0;" id="thailand-display">$45,000</div>
                    <div style="color: #6b7280; margin-bottom: 8px;">Target: $150,000</div>
                    <div class="progress-bar">
                        <div class="progress-fill purple" id="thailand-progress" style="width: 30%"></div>
                    </div>
                    <input type="number" class="input-field" id="thailand-input" value="45000" onchange="updateThailand()" placeholder="Thailand fund">
                </div>
            </div>

            <div class="flame-alert" id="flame-alert">
                <div class="flame-title">üî• Flame Alert</div>
                <div class="flame-text" id="flame-message">You chose comfort over growth today. What flame will you walk towards?</div>
                <button class="btn" onclick="showRecalibration()">Walk Towards Flame</button>
            </div>

            <div class="card" id="flame-display" style="display: none;">
                <h3>üî• Today's Flame</h3>
                <div style="font-size: 1.1rem; color: #ea580c; font-weight: 600; margin: 10px 0;" id="current-flame-text"></div>
                <div style="color: #6b7280; font-size: 0.9rem;">The challenge you committed to walk towards today</div>
            </div>

            <div class="card" style="background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%); border: 2px solid #9333ea;">
                <h3>üìä Export Data for Claude Analysis</h3>
                <p>Download your transformation data for weekly coaching sessions</p>
                <button class="btn" style="background: #9333ea;" onclick="exportData()">üìÅ Export Data for Claude</button>
            </div>
        </div>

        <!-- Daily Statements View -->
        <div id="statements-view" class="hidden">
            <div class="card">
                <h2>üìú Daily Reading - 7 Statements of Intent</h2>
                <p style="color: #6b7280; margin-bottom: 20px;">Read these every morning to align with your transformation</p>
                
                <div class="statement-card">
                    <div class="statement-title">1. Physical Foundation & Energy</div>
                    <div class="statement-text">Over the next 3 months, my mission is clear: to reach my ideal weight of 98kg, build lean muscle, live with unstoppable energy. I will optimize my hypertrophy training with intention‚Äîtraining to failure, tracking progress, staying disciplined. My nutrition will fuel performance, recovery, taking my vitality to new levels. More than just physical, I will cultivate a lifestyle that excites me, rediscovering passion through movement, focus, joyful living. This phase is not about a number‚Äîit's about becoming the most energetic, purpose-driven version of myself.</div>
                </div>

                <div class="statement-card">
                    <div class="statement-title">2. Nutrition & Energy Mastery</div>
                    <div class="statement-text">Today, I honour my body, feeding it with intention, momentum. Each meal is a reflection of discipline, self-respect, fueling performance, recovery, clarity. I choose foods that elevate my energy, sharpen my focus. Hydration, timing, simplicity guide me‚Äîno distractions, no apologies. My nutrition isn't just habit. It's ritual. It's how I create momentum from within. Over the next 3 months I will continue to progress, reach 98kg not through restriction but through refinement. My nutrition will be precise, lean, balanced, geared for hypertrophy, vitality. This isn't just about food‚Äîit's about becoming someone who honors their body as the foundation for everything else.</div>
                </div>

                <div class="statement-card">
                    <div class="statement-title">3. Relationships & Connections</div>
                    <div class="statement-text">Over the next 3 months I'll build on my progress. I'll lean deeper into connection based on character. I'll express love freely to those I trust‚Äîmale or female‚Äîbecause love is clarity, not confusion. My energy will be shared with people who reflect sound moral faithfulness, emotional maturity. There will be no space for ego-driven ties or relationships built on escape. I choose depth. I'll act from integrity, build trust through quiet consistency over judgement. Most importantly, I will be present, open, available with my son Cory. I want him to be proud of me, I want him to know I'm proud of him. This isn't about being liked‚Äîit's about becoming someone worthy of deep, honest love.</div>
                </div>

                <div class="statement-card">
                    <div class="statement-title">4. Mindset & Identity</div>
                    <div class="statement-text">Over the next 3 months I continue to train my mindset every day. Journaling, reflection, deliberate thinking help me unravel what's beneath the surface. I don't avoid fear‚ÄîI sit with it, come at it, walk towards it. My walk towards the flames. Confidence builds with effort, small steps, honest personal accountability. Thinking deeper means I slow down enough to see what matters‚Äîdiscern what doesn't. This isn't about positive thinking‚Äîit's about becoming someone who faces truth and grows stronger from it.</div>
                </div>

                <div class="statement-card">
                    <div class="statement-title">5. Precision Systems & Environmental Integrity</div>
                    <div class="statement-text">Over the next 3 months I refine the systems that support my rhythm. My tools, calendar, processes, space are intentional. I remove friction where it slows me down. My desktop, my phone, my bedroom, my food prep‚Äîeverything reflects order. I keep my workflow lean, my planning clean, my day structured. This isn't obsession. It's ownership. Every day I wake up knowing what I need to do‚Äînot because I memorized it, but because my systems remember for me. I automate freedom. This isn't about organization‚Äîit's about becoming someone whose environment amplifies their best self.</div>
                </div>

                <div class="statement-card">
                    <div class="statement-title">6. Business Liberation & Strategic Lifestyle Design</div>
                    <div class="statement-text">Over the next 3 months, I build ProBrands with financial clarity, emotional precision. My systems are clean, scalable. My delivery is seamless, trustworthy. My operations reflect simplicity, strength. Every step matters. No double handling. No confusion. I utilize AI to enhance speed, achieve excellence. I care deeply, I give generously‚Äîbut I no longer attach emotionally to clients who don't see the work, the discipline, the heart. Thailand becomes more than relocation‚Äîit becomes the rhythm of my new life. This business begins paying for my lifestyle, my clarity, my freedom. This isn't about making money‚Äîit's about becoming someone whose work funds their freedom and purpose.</div>
                </div>

                <div class="statement-card">
                    <div class="statement-title">7. Financial Freedom & Worthiness</div>
                    <div class="statement-text">Over the next 3 months, I walk towards my money flames. Like hypertrophy - low and slow, constantly building, clear, concise, measured. I face my fear of failure by walking towards the flame instead of avoiding financial decisions. I build worthiness by setting concrete targets - trips to Thailand, relocation fund goals, learning to invest for the first time. My financial systems include: Thailand relocation fund with specific targets, learning investment basics and taking first steps, monthly financial reviews, emergency fund building, and tracking every dollar with intention. I'm walking into investing as a complete beginner - no shame, just courage to learn and grow. This isn't about getting rich‚Äîit's about becoming someone worthy of wealth who uses it to create extraordinary impact.</div>
                </div>

                <div class="card" style="background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%); border: 2px solid #9333ea;">
                    <h3>‚úÖ Mark as Read</h3>
                    <p>Once you've read all 7 statements, mark them as complete for today</p>
                    <button class="btn" style="background: #9333ea;" onclick="completeReading()">üìñ Reading Complete</button>
                </div>
            </div>
        </div>

        <!-- Training View -->
        <div id="training-view" class="hidden">
            <div class="card">
                <h2>üí™ Training Tracker</h2>
                
                <div class="card" style="background: #f0f9ff;">
                    <h3>Your Weekly Training Split</h3>
                    <div class="grid">
                        <div style="background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>Monday</h4>
                            <p>LOWER 1<br>13 working sets</p>
                        </div>
                        <div style="background: #fff7ed; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #ea580c;">
                            <h4>Tuesday</h4>
                            <p>UPPER (PUSH)<br>14 working sets</p>
                        </div>
                        <div style="background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>Wednesday</h4>
                            <p>UPPER (PULL)<br>13 working sets</p>
                        </div>
                        <div style="background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>Thursday</h4>
                            <p>LOWER 2<br>9 working sets</p>
                        </div>
                        <div style="background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>Friday</h4>
                            <p>UPPER<br>14 working sets</p>
                        </div>
                        <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>Weekend</h4>
                            <p>REST DAYS<br>Recovery</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>Today's Workout: UPPER (PUSH)</h3>
                    
                    <div class="exercise-card" id="exercise-1">
                        <h4>Machine Chest Press</h4>
                        <p>Main: Chest | Secondary: Triceps</p>
                        <div style="color: #6b7280; margin: 10px 0;">6-10 Reps | 3 Working Sets</div>
                        <div class="set-tracker">
                            <span>Set 1:</span>
                            <input type="number" class="set-input" placeholder="Weight" id="ex1-w1">
                            <span>kg x</span>
                            <input type="number" class="set-input" placeholder="Reps" id="ex1-r1">
                            <button class="btn btn-green btn-small" onclick="markSetComplete(1, 1)">‚úì</button>
                        </div>
                        <div class="set-tracker">
                            <span>Set 2:</span>
                            <input type="number" class="set-input" placeholder="Weight" id="ex1-w2">
                            <span>kg x</span>
                            <input type="number" class="set-input" placeholder="Reps" id="ex1-r2">
                            <button class="btn btn-green btn-small" onclick="markSetComplete(1, 2)">‚úì</button>
                        </div>
                        <div class="set-tracker">
                            <span>Set 3:</span>
                            <input type="number" class="set-input" placeholder="Weight" id="ex1-w3">
                            <span>kg x</span>
                            <input type="number" class="set-input" placeholder="Reps" id="ex1-r3">
                            <button class="btn btn-green btn-small" onclick="markSetComplete(1, 3)">‚úì</button>
                        </div>
                    </div>

                    <div class="exercise-card" id="exercise-2">
                        <h4>Seated Machine Military Press</h4>
                        <p>Main: Delts | Secondary: Triceps</p>
                        <div style="color: #6b7280; margin: 10px 0;">6-10 Reps | 2 Working Sets</div>
                        <div class="set-tracker">
                            <span>Set 1:</span>
                            <input type="number" class="set-input" placeholder="Weight" id="ex2-w1">
                            <span>kg x</span>
                            <input type="number" class="set-input" placeholder="Reps" id="ex2-r1">
                            <button class="btn btn-green btn-small" onclick="markSetComplete(2, 1)">‚úì</button>
                        </div>
                        <div class="set-tracker">
                            <span>Set 2:</span>
                            <input type="number" class="set-input" placeholder="Weight" id="ex2-w2">
                            <span>kg x</span>
                            <input type="number" class="set-input" placeholder="Reps" id="ex2-r2">
                            <button class="btn btn-green btn-small" onclick="markSetComplete(2, 2)">‚úì</button>
                        </div>
                    </div>

                    <div class="exercise-card" id="exercise-3">
                        <h4>Standing Cable Lateral Raise</h4>
                        <p>Main: Delts (Lateral) | Secondary: Traps</p>
                        <div style="color: #6b7280; margin: 10px 0;">12-15 Reps | 3 Working Sets</div>
                        <div class="set-tracker">
                            <span>Set 1:</span>
                            <input type="number" class="set-input" placeholder="Weight" id="ex3-w1">
                            <span>kg x</span>
                            <input type="number" class="set-input" placeholder="Reps" id="ex3-r1">
                            <button class="btn btn-green btn-small" onclick="markSetComplete(3, 1)">‚úì</button>
                        </div>
                        <div class="set-tracker">
                            <span>Set 2:</span>
                            <input type="number" class="set-input" placeholder="Weight" id="ex3-w2">
                            <span>kg x</span>
                            <input type="number" class="set-input" placeholder="Reps" id="ex3-r2">
                            <button class="btn btn-green btn-small" onclick="markSetComplete(3, 2)">‚úì</button>
                        </div>
                        <div class="set-tracker">
                            <span>Set 3:</span>
                            <input type="number" class="set-input" placeholder="Weight" id="ex3-w3">
                            <span>kg x</span>
                            <input type="number" class="set-input" placeholder="Reps" id="ex3-r3">
                            <button class="btn btn-green btn-small" onclick="markSetComplete(3, 3)">‚úì</button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>Session Status</h3>
                    <button class="btn" id="training-btn" onclick="toggleTraining()">Complete Training Session</button>
                    <div class="flame-alert" id="training-flame">
                        <div class="flame-title">üî• Training Flame Alert</div>
                        <div class="flame-text">Your discipline chose comfort over growth today. Progressive overload requires consistency.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add other views here (morning, evening, nutrition) - keeping them the same as before -->

    </div>

    <script>
        const morningQuestions = [
            "Today's message to myself",
            "Today's top 3 goals/priorities", 
            "Tasks that absolutely must be done today",
            "Person(s) I need to connect with today (and how to do it well)",
            "Write a paragraph mapping out your perfect day today",
            "Where am I winning at the moment?",
            "3 things I'm grateful for today are?",
            "Today I will let go of?",
            "One thing I can get excited about today is?",
            "If one word could describe the kind of person I want to be today, then that word is... and why I chose it is...",
            "Someone who needs me on my A Game today is...",
            "A situation that might stress me out today or trip me up today could be... And the way my best self would deal with it is...",
            "Someone I could surprise with a gift, note or a sign of appreciation is...",
            "One action I could take today to demonstrate excellence or real value",
            "One bold action I could take today is...",
            "If I was my own performance coach looking at my life from a high level, I would tell myself to remember that...",
            "The big projects I have to keep in mind that I want to take on, even if I can't act towards them today, are...",
            "I would know that today was a great success if at the end of the day I did or felt these things..."
        ];

        let appData = {
            readingCompleted: false,
            morningCompleted: false,
            eveningCompleted: false,
            currentWeight: 105,
            proteinIntake: 0,
            trainingCompleted: false,
            thailandFund: 45000,
            currentFlame: '',
            dailyScores: { clarity: 0, energy: 0, necessity: 0, productivity: 0, influence: 0, courage: 0 },
            isTrainingDay: true,
            currentQuestionIndex: 0,
            morningAnswers: [],
            eveningReflections: [],
            flameReflection: '',
            exerciseData: {}
        };

        function initializeApp() {
            const now = new Date();
            document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', { 
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
            });
            updateUI();
        }

        // FIXED NAVIGATION - Simple and reliable
        function showView(viewName) {
            // Hide all views
            document.querySelectorAll('[id$="-view"]').forEach(view => {
                view.classList.add('hidden');
            });
            
            // Show selected view
            const targetView = document.getElementById(viewName + '-view');
            if (targetView) {
                targetView.classList.remove('hidden');
            }
            
            // Update active tab
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function completeReading() {
            appData.readingCompleted = true;
            updateUI();
            showView('dashboard');
            alert('üìñ Daily reading complete! Your statements are aligned.');
        }

        function markSetComplete(exerciseNum, setNum) {
            const weightInput = document.getElementById(`ex${exerciseNum}-w${setNum}`);
            const repsInput = document.getElementById(`ex${exerciseNum}-r${setNum}`);
            
            if (weightInput.value && repsInput.value) {
                const exerciseCard = document.getElementById(`exercise-${exerciseNum}`);
                exerciseCard.classList.add('exercise-complete');
                
                if (!appData.exerciseData[exerciseNum]) {
                    appData.exerciseData[exerciseNum] = {};
                }
                appData.exerciseData[exerciseNum][setNum] = {
                    weight: weightInput.value,
                    reps: repsInput.value
                };
                
                alert(`‚úì Set ${setNum} logged: ${weightInput.value}kg x ${repsInput.value} reps`);
            }
        }

        function toggleTraining() {
            appData.trainingCompleted = !appData.trainingCompleted;
            updateUI();
        }

        function updateProtein() {
            const proteinInput = document.getElementById('protein-input');
            if (proteinInput) {
                appData.proteinIntake = parseInt(proteinInput.value) || 0;
                updateUI();
            }
        }

        function addProtein(amount) {
            appData.proteinIntake += amount;
            document.getElementById('protein-input').value = appData.proteinIntake;
            updateUI();
            if (amount > 20) alert(`‚úì +${amount}g protein logged!`);
        }

        function updateWeight() {
            const weightInput = document.getElementById('weight-input');
            if (weightInput) {
                appData.currentWeight = parseInt(weightInput.value) || 105;
                updateUI();
            }
        }

        function updateThailand() {
            const thailandInput = document.getElementById('thailand-input');
            if (thailandInput) {
                appData.thailandFund = parseInt(thailandInput.value) || 45000;
                updateUI();
            }
        }

        function showRecalibration() {
            const response = prompt("What flame will you walk towards right now? What challenge will you face instead of avoiding?");
            if (response && response.trim()) {
                appData.currentFlame = response.trim();
                updateUI();
                alert('üî• New flame identified! Time to take action.');
            }
        }

        function exportData() {
            const exportData = {
                date: new Date().toISOString().split('T')[0],
                ...appData,
                averageScore: (Object.values(appData.dailyScores).reduce((a, b) => a + b, 0) / 6).toFixed(1),
                morningQuestions: morningQuestions
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `hypertrophy-data-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            alert('üìä Data exported! Share this file with Claude for weekly analysis.');
        }

        function updateUI() {
            document.getElementById('current-weight').textContent = appData.currentWeight + 'kg';
            document.getElementById('protein-display').textContent = appData.proteinIntake + 'g';
            document.getElementById('thailand-display').textContent = '$' + appData.thailandFund.toLocaleString();
            
            document.getElementById('protein-input').value = appData.proteinIntake;
            document.getElementById('weight-input').value = appData.currentWeight;
            document.getElementById('thailand-input').value = appData.thailandFund;
            
            const weightProgress = Math.round(((105 - appData.currentWeight) / (105 - 98)) * 100);
            const proteinProgress = Math.round((appData.proteinIntake / 265.8) * 100);
            const thailandProgress = Math.round((appData.thailandFund / 150000) * 100);
            
            document.getElementById('weight-progress').style.width = Math.max(0, weightProgress) + '%';
            document.getElementById('protein-progress').style.width = Math.min(100, proteinProgress) + '%';
            document.getElementById('thailand-progress').style.width = Math.min(100, thailandProgress) + '%';
            
            document.getElementById('reading-status').textContent = appData.readingCompleted ? '‚úÖ Complete' : 'üìñ Not Started';
            document.getElementById('morning-status').textContent = appData.morningCompleted ? '‚úÖ Complete' : '‚è∞ Pending';
            document.getElementById('evening-status').textContent = appData.eveningCompleted ? '‚úÖ Complete' : '‚è∞ Pending';
            
            const scores = Object.values(appData.dailyScores);
            const average = scores.reduce((a, b) => a + b, 0) / scores.length || 0;
            document.getElementById('average-score').textContent = average.toFixed(1) + '/5';
            
            const flameAlert = document.getElementById('flame-alert');
            if (appData.proteinIntake < 265.8 * 0.8 || !appData.trainingCompleted) {
                flameAlert.style.display = 'block';
            } else {
                flameAlert.style.display = 'none';
            }
            
            const flameDisplay = document.getElementById('flame-display');
            const currentFlameText = document.getElementById('current-flame-text');
            if (appData.currentFlame) {
                flameDisplay.style.display = 'block';
                currentFlameText.textContent = appData.currentFlame;
            } else {
                flameDisplay.style.display = 'none';
            }
            
            const trainingBtn = document.getElementById('training-btn');
            const trainingFlame = document.getElementById('training-flame');
            if (trainingBtn && trainingFlame) {
                if (appData.trainingCompleted) {
                    trainingBtn.textContent = '‚úÖ Session Complete';
                    trainingBtn.style.background = '#16a34a';
                    trainingFlame.style.display = 'none';
                } else {
                    trainingBtn.textContent = 'Complete Training Session';
                    trainingBtn.style.background = '#ea580c';
                    trainingFlame.style.display = 'block';
                }
            }
        }

        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
