<!-- Export Tab -->
        <div id="export" class="tab-content">
            <div class="card">
                <h2>üìä Weekly Analysis Export</h2>
                <p><strong>Export your data for Claude coaching analysis. Tim integration after testing complete.</strong></p>
                
                <div class="export-section">
                    <h3>Export Options</h3>
                    <button class="btn btn-primary" onclick="exportForClaude()">üì• Download Full Claude Analysis</button>
                    <button class="btn btn-success" onclick="downloadWeeklyReport()">üìä Download Weekly Report</button>
                    <button class="btn btn-primary" onclick="exportForTim()">üì• Download for Tim (Testing)</button>
                    <button class="btn btn-danger" onclick="clearAllData()">üóëÔ∏è Clear All Data</button>
                </div>

                <div class="card">
                    <h3>üìä Current Week Overview</h3>
                    <div id="weeklyOverview"></div>
                </div>

                <div class="card">
                    <h3>üìã Export Details</h3>
                    <p><strong>Full Claude Analysis:</strong> Complete JSON data with all daily entries, performance scores, and patterns for deep coaching analysis.</p>
                    <p><strong>Weekly Report:</strong> Human-readable summary with insights, completion rates, and recommendations.</p>
                    <p><strong>Tim Export:</strong> Questions and performance data only (for testing phase).</p>
                </div>
            </div>
        </div>
                    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hypertrophy OS - Accountability Robot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #faf7f2;
            color: #2f2f2f;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 20px 0;
            background: linear-gradient(135deg, #8fbc8f, #6b8e23);
            color: white;
            margin-bottom: 30px;
            border-radius: 10px;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background-color: #f5f1eb;
            border-radius: 10px;
            padding: 10px;
        }

        .nav-tab {
            padding: 12px 24px;
            margin: 0 5px;
            background-color: #8fbc8f;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .nav-tab:hover {
            background-color: #6b8e23;
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background-color: #d2691e;
        }

        .tab-content {
            display: none;
            background-color: #f5f1eb;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background-color: white;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 5px solid #8fbc8f;
        }

        .foundation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .foundation-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background-color: white;
            border-radius: 10px;
            border-left: 4px solid #8fbc8f;
        }

        .foundation-item.completed {
            border-left-color: #d4a5a5;
            background-color: #f8f8f8;
        }

        .foundation-item.missed {
            border-left-color: #d2691e;
            background-color: #fff5f5;
        }

        .checkbox {
            width: 24px;
            height: 24px;
            margin-left: 15px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn-primary {
            background-color: #8fbc8f;
            color: white;
        }

        .btn-primary:hover {
            background-color: #6b8e23;
            transform: translateY(-2px);
        }

        .btn-danger {
            background-color: #d2691e;
            color: white;
        }

        .btn-success {
            background-color: #d4a5a5;
            color: white;
        }

        .question-group {
            margin-bottom: 25px;
        }

        .question-label {
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
            color: #2f2f2f;
        }

        .question-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #d4a5a5;
            border-radius: 8px;
            font-size: 16px;
            resize: vertical;
            min-height: 80px;
        }

        .flame-card {
            background: linear-gradient(135deg, #d2691e, #8fbc8f);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .flame-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .flame-card.selected {
            border-color: #faf7f2;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .flame-category {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .accountability-alert {
            background-color: #d2691e;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
            font-size: 18px;
            text-align: center;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .performance-item {
            text-align: center;
            padding: 15px;
            background-color: white;
            border-radius: 10px;
            border-top: 4px solid #8fbc8f;
        }

        .rating-buttons {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 10px;
        }

        .rating-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #8fbc8f;
            background-color: white;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .rating-btn:hover {
            background-color: #8fbc8f;
            color: white;
        }

        .rating-btn.selected {
            background-color: #d4a5a5;
            color: white;
            border-color: #d4a5a5;
        }

        .export-section {
            background-color: #6b8e23;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            text-align: center;
        }

        .weight-progress {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #8fbc8f, #d4a5a5);
            color: white;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .vision-section {
            margin-bottom: 30px;
        }

        .vision-card {
            background-color: #f5f1eb;
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #6b8e23;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .vision-tabs {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .vision-tab {
            padding: 10px 20px;
            background-color: #8fbc8f;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .vision-tab:hover {
            background-color: #6b8e23;
        }

        .vision-tab.active {
            background-color: #d2691e;
        }

        .vision-panel {
            display: none;
        }

        .vision-panel.active {
            display: block;
        }

        .vision-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #d2691e;
        }

        .vision-content h4 {
            color: #d2691e;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .vision-display {
            font-size: 16px;
            line-height: 1.8;
            white-space: pre-line;
        }

        .vision-edit {
            display: none;
        }

        .vision-edit textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid #8fbc8f;
            border-radius: 8px;
            font-size: 16px;
            resize: vertical;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .nav-tab {
                font-size: 14px;
                padding: 10px 16px;
            }
            
            .foundation-grid {
                grid-template-columns: 1fr;
            }
        }

        .hidden {
            display: none;
        }

        .time-display {
            text-align: center;
            font-size: 20px;
            margin-bottom: 20px;
            font-weight: bold;
            color: #6b8e23;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-complete { background-color: #d4a5a5; }
        .status-incomplete { background-color: #d2691e; }
        .status-pending { background-color: #8fbc8f; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üî• HYPERTROPHY OS - ACCOUNTABILITY ROBOT üî•</h1>
            <p>Transform or stay mediocre. Your choice. Your life depends on it.</p>
            <div class="time-display" id="currentTime"></div>
        </header>

        <div class="weight-progress" id="weightProgress">
            Current: 105kg ‚Üí Target: 98kg | Progress: 0% Complete
        </div>

        <div class="vision-section">
            <div class="vision-card" id="visionDisplay">
                <h3>üéØ YOUR TRANSFORMATION VISION</h3>
                <div class="vision-tabs">
                    <button class="vision-tab active" onclick="showVision('3month')">3 Month Intents</button>
                    <button class="vision-tab" onclick="showVision('12month')">12 Month Goals</button>
                    <button class="vision-tab" onclick="showVision('3year')">3 Year Vision</button>
                    <button class="btn btn-primary" onclick="editVision()" style="margin-left: 20px;">Edit Vision</button>
                </div>
                <div class="vision-content" id="visionContent">
                    <div id="vision-3month" class="vision-panel active">
                        <h4>3 Month Intents (Read Daily)</h4>
                        <div id="display-3month">Click "Edit Vision" to set your 3-month intents</div>
                    </div>
                    <div id="vision-12month" class="vision-panel">
                        <h4>12 Month Goals</h4>
                        <div id="display-12month">Click "Edit Vision" to set your 12-month goals</div>
                    </div>
                    <div id="vision-3year" class="vision-panel">
                        <h4>3 Year Vision</h4>
                        <div id="display-3year">Click "Edit Vision" to set your 3-year vision</div>
                    </div>
                </div>
            </div>
        </div>

        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('morning')">Morning Ritual</button>
            <button class="nav-tab" onclick="switchTab('dashboard')">Daily Dashboard</button>
            <button class="nav-tab" onclick="switchTab('evening')">Evening Ritual</button>
            <button class="nav-tab" onclick="switchTab('planning')">Night Planning</button>
            <button class="nav-tab" onclick="switchTab('export')">Analysis Export</button>
        </nav>

        <!-- Morning Ritual Tab -->
        <div id="morning" class="tab-content active">
            <div class="card">
                <h2>üåÖ Morning Ritual - Foundation Setup</h2>
                <p><strong>Time to set your intentions and commit to excellence. No excuses, no shortcuts.</strong></p>
                
                <div class="question-group">
                    <label class="question-label">Current Weight (kg):</label>
                    <input type="number" id="currentWeight" class="question-input" style="min-height: 40px;" placeholder="Enter your weight">
                </div>

                <div class="question-group">
                    <label class="question-label">Training Day? (affects calorie target)</label>
                    <select id="trainingDay" class="question-input" style="min-height: 40px;">
                        <option value="training">Training Day (2475 calories)</option>
                        <option value="rest">Rest Day (2223 calories)</option>
                    </select>
                </div>

                <div class="question-group">
                    <label class="question-label">Which workout are you doing today? (if training day)</label>
                    <select id="workoutType" class="question-input" style="min-height: 40px;">
                        <option value="">Select workout</option>
                        <option value="lower1">Lower 1: 13 working sets (machine-focused legs)</option>
                        <option value="pushDay">Upper (Push): 14 working sets (chest/shoulders/triceps)</option>
                        <option value="pullDay">Upper (Pull): 13 working sets (back/biceps)</option>
                        <option value="lower2">Lower 2: 9 working sets (free weight/unilateral legs)</option>
                        <option value="upperMixed">Upper: 14 working sets (mixed upper body)</option>
                    </select>
                </div>
            </div>

            <div class="card">
                <h3>Tim's 18 Morning Questions</h3>
                <div id="morningQuestions"></div>
            </div>

            <div class="card">
                <h3>üî• Today's Flame Selection</h3>
                <p><strong>Choose your challenge. Walk towards the fire that scares you most today.</strong></p>
                <div id="flameSelection"></div>
            </div>

            <div class="card">
                <button class="btn btn-primary" onclick="completeMorningRitual()">Complete Morning Ritual</button>
                <div id="morningStatus"></div>
            </div>
        </div>

        <!-- Daily Dashboard Tab -->
        <div id="dashboard" class="tab-content">
            <div class="card">
                <h2>‚ö° Daily Accountability Dashboard</h2>
                <p><strong>Your foundation requirements. Check them off or explain why you're choosing failure.</strong></p>
                
                <div class="foundation-grid" id="foundationTracking">
                    <!-- Foundation items will be populated by JavaScript -->
                </div>

                <div id="accountabilityMessage"></div>
            </div>

            <div class="card">
                <h3>Integration Prompts</h3>
                <div class="foundation-item">
                    <span>Did you log your meals in MyFitnessPal today?</span>
                    <input type="checkbox" class="checkbox" id="myfitnesspal">
                </div>
                <div class="foundation-item">
                    <span>Did you complete your workout in Rep Count? (if training day)</span>
                    <input type="checkbox" class="checkbox" id="repcount">
                </div>
            </div>

            <div class="card">
                <h3>üî• Today's Flame Progress</h3>
                <div id="todaysFlame">Select your flame in the Morning Ritual first.</div>
                <button class="btn btn-success" onclick="completeFlame()" id="flameCompleteBtn" style="display: none;">I Walked Through The Fire</button>
            </div>
        </div>

        <!-- Evening Ritual Tab -->
        <div id="evening" class="tab-content">
            <div class="card">
                <h2>üåô Evening Ritual - Reflection & Scoring</h2>
                <p><strong>Time for brutal honesty. How did you perform today?</strong></p>
            </div>

            <div class="card">
                <h3>Tim's 6 Evening Questions</h3>
                <div id="eveningQuestions"></div>
            </div>

            <div class="card">
                <h3>Performance Domains (1-5 Scale)</h3>
                <div class="performance-grid" id="performanceScoring"></div>
            </div>

            <div class="card">
                <button class="btn btn-primary" onclick="completeEveningRitual()">Complete Evening Ritual</button>
            </div>
        </div>

        <!-- Night Planning Tab -->
        <div id="planning" class="tab-content">
            <div class="card">
                <h2>üéØ Night Planning - Tomorrow's Setup</h2>
                <p><strong>Plan tomorrow so you wake up with clarity, not confusion.</strong></p>
                
                <div class="question-group">
                    <label class="question-label">Tomorrow's Top 3 Must-Do Tasks:</label>
                    <textarea class="question-input" id="tomorrowTasks" placeholder="What absolutely must get done tomorrow?"></textarea>
                </div>

                <div class="question-group">
                    <label class="question-label">Tomorrow's Flame Preparation:</label>
                    <textarea class="question-input" id="tomorrowFlame" placeholder="Which flame category will challenge you most tomorrow?"></textarea>
                </div>

                <div class="question-group">
                    <label class="question-label">Clear Your Mind (dump any worries here):</label>
                    <textarea class="question-input" id="mindDump" placeholder="Get everything out of your head so you can sleep peacefully..."></textarea>
                </div>

                <button class="btn btn-primary" onclick="completeNightPlanning()">Set Tomorrow & Sleep</button>
            </div>
        </div>

        <!-- Export Tab -->
        <div id="export" class="tab-content">
            <div class="card">
                <h2>üìä Weekly Analysis Export</h2>
                <p><strong>Export your data for Claude coaching analysis and Tim integration.</strong></p>
                
                <div class="export-section">
                    <h3>Export Options</h3>
                    <button class="btn btn-primary" onclick="exportForClaude()">Export for Claude Analysis</button>
                    <button class="btn btn-primary" onclick="exportForTim()">Export for Tim (Questions Only)</button>
                    <button class="btn btn-danger" onclick="clearAllData()">üóëÔ∏è Clear All Data</button>
                </div>

                <div class="card">
                    <h3>Current Week Overview</h3>
                    <div id="weeklyOverview"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Core Data Structure
        let appData = {
            currentWeight: 105,
            targetWeight: 98,
            dailyData: {},
            weeklyData: [],
            currentFlame: null,
            morningCompleted: false,
            eveningCompleted: false,
            vision: {
                threeMonth: `1. Physical Foundation & Energy
Over the next 3 months, my mission is clear: to reach my ideal weight of 98kg, build lean muscle, live with unstoppable energy. I will optimize my hypertrophy training with intention‚Äîtraining to failure, tracking progress, staying disciplined. My nutrition will fuel performance, recovery, taking my vitality to new levels. More than just physical, I will cultivate a lifestyle that excites me, rediscovering passion through movement, focus, joyful living.

This phase is not about a number‚Äîit's about becoming the most energetic, purpose-driven version of myself.

2. Nutrition & Energy Mastery
Today, I honour my body, feeding it with intention, momentum. Each meal is a reflection of discipline, self-respect, fueling performance, recovery, clarity. I choose foods that elevate my energy, sharpen my focus. Hydration, timing, simplicity guide me‚Äîno distractions, no apologies.

My nutrition isn't just habit. It's ritual. It's how I create momentum from within.

Over the next 3 months I will continue to progress, reach 98kg not through restriction but through refinement. My nutrition will be precise, lean, balanced, geared for hypertrophy, vitality. I understand macros, meal timing to fuel my peak performance. It must be implemented alongside my daily living.

This isn't just about food‚Äîit's about becoming someone who honors their body as the foundation for everything else.

3. Relationships & Connections
Over the next 3 months I'll build on my progress. I'll lean deeper into connection based on character. I'll express love freely to those I trust‚Äîmale or female‚Äîbecause love is clarity, not confusion. My energy will be shared with people who reflect sound moral faithfulness, emotional maturity. There will be no space for ego-driven ties or relationships built on escape.

I choose depth. I'll act from integrity, build trust through quiet consistency over judgement.

Most importantly, I will be present, open, available with my son Cory. I want him to be proud of me, I want him to know I'm proud of him. Our relationship will be built on honesty, openness, mutual respect. I show up as the father I'm now capable of being - not from deficit, but from the strength I've built through my own transformation.

This isn't about being liked‚Äîit's about becoming someone worthy of deep, honest love.

4. Mindset & Identity
Over the next 3 months I continue to train my mindset every day. Journaling, reflection, deliberate thinking help me unravel what's beneath the surface. I don't avoid fear‚ÄîI sit with it, come at it, walk towards it. My walk towards the flames. Confidence builds with effort, small steps, honest personal accountability. Thinking deeper means I slow down enough to see what matters‚Äîdiscern what doesn't.

This isn't about positive thinking‚Äîit's about becoming someone who faces truth and grows stronger from it.

5. Precision Systems & Environmental Integrity
Over the next 3 months I refine the systems that support my rhythm. My tools, calendar, processes, space are intentional. I remove friction where it slows me down. My desktop, my phone, my bedroom, my food prep‚Äîeverything reflects order. I keep my workflow lean, my planning clean, my day structured. This isn't obsession. It's ownership.

Every day I wake up knowing what I need to do‚Äînot because I memorized it, but because my systems remember for me. I automate freedom.

This isn't about organization‚Äîit's about becoming someone whose environment amplifies their best self.

6. Business Liberation & Strategic Lifestyle Design
Over the next 3 months, I build ProBrands with financial clarity, emotional precision. My systems are clean, scalable. My delivery is seamless, trustworthy. My operations reflect simplicity, strength. Every step matters. No double handling. No confusion. I utilize AI to enhance speed, achieve excellence.

I care deeply, I give generously‚Äîbut I no longer attach emotionally to clients who don't see the work, the discipline, the heart. I attract customers who value our service, trust our consistency. Our team treats every order with urgency, respect. Our brand becomes known not for price‚Äîbut for excellence, peace of mind.

Thailand becomes more than relocation‚Äîit becomes the rhythm of my new life. This business begins paying for my lifestyle, my clarity, my freedom. I protect energy, elevate others. This is structure and soul.

This isn't about making money‚Äîit's about becoming someone whose work funds their freedom and purpose.

7. Financial Freedom & Worthiness
Over the next 3 months, I walk towards my money flames. Like hypertrophy - low and slow, constantly building, clear, concise, measured. I face my fear of failure by walking towards the flame instead of avoiding financial decisions. I build worthiness by setting concrete targets - trips to Thailand, relocation fund goals, learning to invest for the first time. I balance wealth and ego by staying laser beam focused on my life in Thailand - money as fuel for freedom, not validation.

My financial systems include: Thailand relocation fund with specific targets, learning investment basics and taking first steps, monthly financial reviews, emergency fund building, and tracking every dollar with intention. I'm walking into investing as a complete beginner - no shame, just courage to learn and grow.

This isn't about getting rich quick - it's about building unshakeable financial foundation for my extraordinary life.

This isn't about getting rich‚Äîit's about becoming someone worthy of wealth who uses it to create extraordinary impact.`,

                twelveMonth: `1. Physical Transformation
12 months from now, I will wake up embodying a life where health isn't something I do‚Äîit is who I am. My habits will be ingrained, automatic, empowering. Training, eating, sleeping, reflecting with intention. I will cultivate radiant confidence through discipline, self-belief, becoming someone who enters every room with quiet strength. Physically, I will be in the best shape of my life‚Äîbut more importantly I will be mentally grounded, at peace. This is the year the fruit appears from what I have planted, I start living as my highest self.

2. Nutrition Integration
12 months from now, my nutrition will be a seamless extension of who I am‚Äîautomatic, intuitive, consistently aligned. Food will be functional, joyful, tailored to performance, recovery, long-term vitality. I'll eat with awareness, structure, freedom. No mental clutter, no guilt‚Äîjust alignment. My energy will stay high without crashing, my choices will reflect respect for the body I have sculpted. This is nutrition as identity‚Äînot just habit, but lifestyle embodiment.

3. Relationship Mastery
12 months from now, my circle will be small, intentional, spiritually strong. I'll be surrounded by people who value my presence not for what I offer but for how I live. We'll grow together, speak truth above all, hold space when it's needed. I'll remain open, emotionally expressive, unafraid to say "I love you" when love is earned. Relationships will feel like home‚Äîsafe, honest, built on values, not image.

My relationship with Cory will be a source of mutual pride. He'll see what transformation looks like when someone refuses to stay stuck. Our conversations will be open, honest, available. I'll be the father he deserves because I've done the work to show up fully - present, grounded, proud of who he is, worthy of his pride in return.

4. Mental Excellence
In 12 months time, my mindset is structured, intentional. I've rewired how I think, not just what I think. I catch old patterns before they push me off course. I build clarity through reflection, courage through repetition. The deeper I think, the cleaner I act. I trust the process because I see results in how I carry myself, lead.

5. Systems Mastery
One year from now, my life runs on invisible discipline. My environment is not loud‚Äîbut it speaks. Every object has a purpose. Every system earns its place. My habits are ingrained through design‚Äînot force. People around me feel calm when I walk in, not because I demand it, but because my presence reflects clarity. I no longer sprint through chaos. I move with structure. My energy isn't wasted‚ÄîI direct it.

6. Business Excellence
One year from now, ProBrands moves with precision, presence. The company earns loyalty through structure, delivery. Clients refer us because we bring order, remove burden. We lead with clarity, follow through with speed.

My admin team in Thailand handles operations with ease, autonomy. My financial framework supports mobility, protection. NZ tax no longer drains me‚ÄîI've found the flow. The business funds health, vitality, aligned living. I lead from peace, not pressure.

I no longer hustle. I strategize, simplify. My decisions reflect leadership and love‚Äîfor myself, my team, the life I'm sculpting.

7. Financial Mastery
12 months from now, my relationship with money has completely transformed. What started as walking towards flames as a complete investing beginner has become confident financial leadership in my own life. My investment portfolio is established and growing - I understand the fundamentals, have automated systems, and make decisions from knowledge, not fear.

My Thailand relocation fund is fully funded and ready. The move isn't a desperate escape but a strategic choice backed by solid financial planning. My emergency fund provides peace of mind. My monthly financial reviews show consistent growth and progress.

Most importantly, I no longer question my worthiness of wealth. Money flows to me because I've done the inner work - I deserve financial abundance, I handle it responsibly, I use it to create the life I've designed. The old "too small, useless" voices have no power over my financial decisions.

I lead from financial confidence. Cory sees what's possible when someone commits to learning, growing, and walking towards money flames instead of avoiding them. My generosity comes from abundance, not ego. I invest in my health, my relationships, my systems, my business growth without scarcity thinking.

I no longer fear financial failure because I've built antifragile systems. My wealth supports my extraordinary life in Thailand - not as validation, but as freedom to live with intention, energy, and purpose.`,

                threeYear: `1. Physical Mastery & Energetic Leadership
3 years from now, I will be living in an environment that supports radiant energy‚Äîfrom the meals I prepare to the rhythm of my day. Whether I'm training hard, travelling, or leading others, my energy will remain consistent, magnetic. I'll teach what I live‚Äîsharing the philosophy of fueling transformation, not chasing trends. My vitality will be contagious.

2. Nutritional Mastery & Environmental Leadership
3 years from now, my nutrition will reflect longevity, anti-inflammation, optimized, inspired by movement, purpose. Food will be a celebration, regeneration, alignment. My nutritional choices create momentum that others feel, learn from, aspire to embody.

3. Relationship Leadership
3 years from now, I'll be known for how I make others feel‚Äîsafe, seen, uplifted. My relationships will reflect loyalty, emotional leadership, unwavering integrity. Those close to me will know my presence is grounded‚Äîno agendas, just truth. I'll lead with humility, listen with compassion, honour people's journeys without needing control. This legacy of connection will be my quiet impact‚Äîbuilt not through status but through soul.

The relationship with my son Cory will be the crown jewel of my transformation. He'll know that my self-work wasn't selfish‚Äîit was the foundation that allowed me to show up as the father he always deserved. Our bond will be deep, honest, mutually respectful. He'll carry forward the example of what's possible when someone chooses growth over stagnation, courage over comfort.

4. Mental Mastery & Presence
Over 3 years I've created a mental environment built for depth, discipline. Thoughts are no longer distractions‚Äîthey are tools. My inner voice is precise, steady, clear. I think deeply, speak clearly, act deliberately. People feel the strength of my mind through my presence.

This is who I am now‚ÄîI've earned it.

5. Systems Legacy
Three years from now, I live inside a well-built machine‚Äîthoughtful, elegant, powerful. My systems amplify creativity, support emotional clarity, automate success. My space makes me better, my habits compound effortlessly.

I don't hustle‚ÄîI execute. I don't react‚ÄîI respond. Discipline isn't loud for me‚Äîit's layered into everything I touch. When people step into my life, they feel it: this is someone who lives with built-in precision. I don't need to explain it‚Äîthey just know.

6. Business Legacy
Three years from now, ProBrands is a living example of values, execution. Our brand stands for reliability, intention. Our systems amplify growth, reduce stress. Our culture reflects urgency, respect.

I reside in Thailand‚Äînot as escape, but as alignment. My real estate portfolio expands with consistency, clarity. My finances are clean. My structure is intentional. My business funds my freedom, future.

I share what I've built. My close friends in New Zealand see the path‚Äînot as fantasy, but as blueprint. I offer strategy, support. I give them clarity, options. They follow not because I said so‚Äîbut because they see how I live, work, feel. This is leadership with vision, humility. Their freedom becomes part of my legacy.

7. Financial Legacy
Three years from now, I live in complete financial freedom in Thailand - not as someone who got lucky, but as someone who systematically walked towards every money flame and built unshakeable wealth through discipline and learning.

My investment portfolio generates enough passive income to fund my extraordinary life. The man who had never invested before now has financial systems that run like a well-built machine - growing wealth while I sleep, train, build relationships, and live with complete freedom. My real estate investments provide additional streams. My financial education transformed me from beginner to confident wealth builder.

I reside in Thailand not as escape from financial pressure, but as the ultimate expression of financial choice. Every domain of my life is now fully funded - the best nutrition, optimal training environments, incredible experiences with loved ones, systems that truly serve me, business investments that align with purpose rather than desperation.

Most powerfully, I've become living proof that worthiness blocks can be completely healed. The boy who was told he was "too small, useless" now manages significant wealth with wisdom and intention. Cory witnesses what's possible when someone refuses to accept financial limitations.

My wealth creates ripple effects. I support my closest friends' growth, invest in others' extraordinary lives, create opportunities that wouldn't exist without financial abundance. Not from ego or to prove anything - but because I've learned that true wealth is having enough to live extraordinarily and lift others up.

Money has become what it always should have been - a tool for freedom, impact, and love. I've earned my place here through walking towards every flame that stood between me and worthiness.

"I am the architect of my extraordinary life."`
            }
        };

        // Tim's Questions
        const morningQuestions = [
            "Today's message to myself",
            "Today's top 3 goals/priorities", 
            "Tasks that absolutely must be done today",
            "Person(s) I need to connect with today (and how to do it well)",
            "Write a paragraph mapping out your perfect day today",
            "Where am I winning at the moment?",
            "3 things I'm grateful for today are?",
            "Today I will let go of?",
            "One thing I can get excited about today is?",
            "If one word could describe the kind of person I want to be today, then that word is... and why I chose it is...",
            "Someone who needs me on my A Game today is...",
            "A situation that might stress me out today or trip me up today could be... And the way my best self would deal with it is...",
            "Someone I could surprise with a gift, note or a sign of appreciation is...",
            "One action I could take today to demonstrate excellence or real value",
            "One bold action I could take today is...",
            "If I was my own performance coach looking at my life from a high level, I would tell myself to remember that...",
            "The big projects I have to keep in mind that I want to take on, even if I can't act towards them today, are...",
            "I would know that today was a great success if at the end of the day I did or felt these things..."
        ];

        const eveningQuestions = [
            "A moment that I really appreciated today was...",
            "A situation or a task I handled well today was...",
            "Something I realised or learned today was...",
            "I could have made today even better if I...",
            "Something that could have helped me feel more connected to others today would have been...",
            "If I was my own performance coach, I would tell myself this statement about myself..."
        ];

        const performanceDomains = [
            { key: 'clarity', name: 'CLARITY', description: 'I knew my "why" and lived intentionally today' },
            { key: 'energy', name: 'ENERGY', description: 'I managed my physical and mental energy well today' },
            { key: 'necessity', name: 'NECESSITY', description: 'I felt it was necessary to be my best and made success a "must"' },
            { key: 'productivity', name: 'PRODUCTIVITY', description: 'I worked on things that mattered most today' },
            { key: 'influence', name: 'INFLUENCE', description: 'I guided or treated others well today' },
            { key: 'courage', name: 'COURAGE', description: 'I shared my real self, thoughts, and feelings today' }
        ];

        const flameCategories = [
            {
                category: "Physical Foundation & Energy",
                statements: [
                    "Train to complete failure on all working sets",
                    "Choose the harder weight/rep when you could go easier", 
                    "Walk extra distance when you want to stop"
                ]
            },
            {
                category: "Nutrition & Energy Mastery", 
                statements: [
                    "Eat when stressed about business (biggest derail: not eating)",
                    "Choose planned meal over chocolate at night",
                    "Hit calorie targets when anxiety kills appetite"
                ]
            },
            {
                category: "Relationships & Connections",
                statements: [
                    "Have authentic conversation you've been avoiding",
                    "Be fully present with Cory instead of distracted",
                    "Express appreciation when it feels vulnerable"
                ]
            },
            {
                category: "Mindset & Identity",
                statements: [
                    "Journal about fear you're avoiding",
                    "Face truth you don't want to acknowledge", 
                    "Choose growth over comfort in decisions"
                ]
            },
            {
                category: "Precision Systems & Environmental",
                statements: [
                    "Organize something you've been procrastinating",
                    "Remove workflow friction that annoys you",
                    "Plan tomorrow instead of hoping it works out"
                ]
            },
            {
                category: "Business Liberation & Strategic Lifestyle",
                statements: [
                    "Have difficult client conversation today",
                    "Set boundaries with demanding clients",
                    "Make strategic decision you've been avoiding"
                ]
            },
            {
                category: "Financial Freedom & Worthiness",
                statements: [
                    "Make investment decision you've been researching (biggest concern: cashflow planning)",
                    "Have money conversation you're avoiding",
                    "Take action despite feeling \"not worthy\" of wealth"
                ]
            }
        ];

        // Foundation requirements
        const foundationItems = [
            { key: 'weight', name: 'Weight Logged', required: true },
            { key: 'calories', name: 'Calorie Target', required: true, dynamic: true },
            { key: 'training', name: 'Training Completed', required: false, trainingOnly: true },
            { key: 'steps', name: '10,000 Steps', required: true },
            { key: 'sleep', name: 'Sleep Logged', required: true },
            { key: 'journaling', name: 'Daily Journaling', required: true }
        ];

        // Stern accountability messages
        const accountabilityMessages = {
            training: "You're choosing weakness over strength. Your 3-year vision requires a disciplined body. What's more important - your comfort or your dreams?",
            tasks: "You made a commitment to yourself. Breaking promises to yourself is breaking promises to your future. Why are you sabotaging your own success?",
            nutrition: "Your body needs fuel to perform. Skipping meals because of business stress is choosing failure. Eat. Now.",
            general: "You're now behind on your own life. These aren't suggestions - they're requirements for the life you say you want.",
            steps: "Every step is a step towards your new life. Every missed step is a step towards mediocrity. Move your body. Move your life.",
            sleep: "Your recovery determines your performance tomorrow. Poor sleep = poor decisions = poor results. Prioritize your rest.",
            journaling: "Self-awareness creates self-mastery. Skipping journaling means you're operating blind. How can you improve what you don't track?"
        };

        // Initialize app
        function initApp() {
            loadData();
            updateTimeDisplay();
            renderMorningQuestions();
            renderFlameSelection();
            renderFoundationTracking();
            renderEveningQuestions();
            renderPerformanceScoring();
            updateWeightProgress();
            updateVisionDisplay();
            updateWeeklyOverview();
            checkStepPrompts();
            
            // Set interval for time updates and step prompts
            setInterval(updateTimeDisplay, 1000);
            setInterval(checkStepPrompts, 60000); // Check every minute
        }

        function updateTimeDisplay() {
            const now = new Date();
            const timeString = now.toLocaleString('en-NZ', {
                weekday: 'long',
                year: 'numeric', 
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('currentTime').textContent = timeString;
        }

        function checkStepPrompts() {
            const now = new Date();
            const hour = now.getHours();
            const todayKey = now.toDateString();
            
            // Step prompts at 12pm and 5pm
            if ((hour === 12 || hour === 17) && now.getMinutes() === 0) {
                if (!appData.dailyData[todayKey]?.stepPromptShown) {
                    showStepPrompt();
                    if (!appData.dailyData[todayKey]) appData.dailyData[todayKey] = {};
                    appData.dailyData[todayKey].stepPromptShown = true;
                    saveData();
                }
            }
        }

        function showStepPrompt() {
            alert("üö® STEP CHECK: Have you hit your 10,000 steps yet? Your transformation demands movement. Every step counts towards your new life. GET MOVING!");
        }

        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active from all nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function renderMorningQuestions() {
            const container = document.getElementById('morningQuestions');
            container.innerHTML = '';
            
            morningQuestions.forEach((question, index) => {
                const div = document.createElement('div');
                div.className = 'question-group';
                div.innerHTML = `
                    <label class="question-label">${index + 1}. ${question}</label>
                    <textarea class="question-input" id="morning_q${index}" placeholder="Be honest and specific..."></textarea>
                `;
                container.appendChild(div);
            });
        }

        function renderEveningQuestions() {
            const container = document.getElementById('eveningQuestions');
            container.innerHTML = '';
            
            eveningQuestions.forEach((question, index) => {
                const div = document.createElement('div');
                div.className = 'question-group';
                div.innerHTML = `
                    <label class="question-label">${index + 1}. ${question}</label>
                    <textarea class="question-input" id="evening_q${index}" placeholder="Reflect deeply and honestly..."></textarea>
                `;
                container.appendChild(div);
            });
        }

        function renderFlameSelection() {
            const container = document.getElementById('flameSelection');
            container.innerHTML = '';
            
            flameCategories.forEach((category, catIndex) => {
                category.statements.forEach((statement, stmtIndex) => {
                    const div = document.createElement('div');
                    div.className = 'flame-card';
                    div.onclick = () => selectFlame(catIndex, stmtIndex, statement);
                    div.innerHTML = `
                        <div class="flame-category">${category.category}</div>
                        <div>${statement}</div>
                    `;
                    container.appendChild(div);
                });
            });
        }

        function selectFlame(catIndex, stmtIndex, statement) {
            // Remove previous selection
            document.querySelectorAll('.flame-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Select new flame
            event.target.closest('.flame-card').classList.add('selected');
            appData.currentFlame = {
                category: flameCategories[catIndex].category,
                statement: statement,
                completed: false
            };
            
            updateTodaysFlame();
            saveData();
        }

        function updateTodaysFlame() {
            const container = document.getElementById('todaysFlame');
            if (appData.currentFlame) {
                container.innerHTML = `
                    <div class="flame-card selected">
                        <div class="flame-category">${appData.currentFlame.category}</div>
                        <div>${appData.currentFlame.statement}</div>
                        <div style="margin-top: 10px; font-weight: bold;">
                            Status: ${appData.currentFlame.completed ? '‚úÖ CONQUERED' : 'üî• ACTIVE CHALLENGE'}
                        </div>
                    </div>
                `;
                
                const btn = document.getElementById('flameCompleteBtn');
                if (appData.currentFlame.completed) {
                    btn.style.display = 'none';
                } else {
                    btn.style.display = 'inline-block';
                }
            }
        }

        function completeFlame() {
            if (appData.currentFlame) {
                appData.currentFlame.completed = true;
                updateTodaysFlame();
                saveData();
                
                alert("üî• FLAME CONQUERED! You walked through the fire and came out stronger. This is how transformation happens - one flame at a time.");
            }
        }

        function renderFoundationTracking() {
            const container = document.getElementById('foundationTracking');
            container.innerHTML = '';
            
            const todayKey = new Date().toDateString();
            const todayData = appData.dailyData[todayKey] || {};
            const isTrainingDay = document.getElementById('trainingDay')?.value === 'training';
            
            foundationItems.forEach(item => {
                if (item.trainingOnly && !isTrainingDay) return;
                
                const div = document.createElement('div');
                const isCompleted = todayData[item.key];
                const statusClass = isCompleted ? 'completed' : 'incomplete';
                
                let displayText = item.name;
                if (item.dynamic && item.key === 'calories') {
                    const target = isTrainingDay ? '2475' : '2223';
                    displayText = `${item.name} (${target} cal)`;
                }
                
                div.className = `foundation-item ${statusClass}`;
                div.innerHTML = `
                    <span>
                        <span class="status-indicator status-${isCompleted ? 'complete' : 'incomplete'}"></span>
                        ${displayText}
                    </span>
                    <input type="checkbox" class="checkbox" ${isCompleted ? 'checked' : ''} 
                           onchange="updateFoundationItem('${item.key}', this.checked)">
                `;
                container.appendChild(div);
            });
            
            checkAccountability();
        }

        function updateFoundationItem(key, completed) {
            const todayKey = new Date().toDateString();
            if (!appData.dailyData[todayKey]) {
                appData.dailyData[todayKey] = {};
            }
            
            appData.dailyData[todayKey][key] = completed;
            saveData();
            renderFoundationTracking();
        }

        function checkAccountability() {
            const todayKey = new Date().toDateString();
            const todayData = appData.dailyData[todayKey] || {};
            const isTrainingDay = document.getElementById('trainingDay')?.value === 'training';
            
            let missedItems = [];
            let completedCount = 0;
            let totalRequired = 0;
            
            foundationItems.forEach(item => {
                if (item.trainingOnly && !isTrainingDay) return;
                if (!item.required) return;
                
                totalRequired++;
                if (todayData[item.key]) {
                    completedCount++;
                } else {
                    missedItems.push(item.name);
                }
            });
            
            const container = document.getElementById('accountabilityMessage');
            
            if (missedItems.length >= 2) {
                // RED ALERT MODE
                container.innerHTML = `
                    <div class="accountability-alert">
                        üö® RED ALERT MODE ACTIVATED üö®<br>
                        You're now behind on your own life. These aren't suggestions - they're requirements for the life you say you want.<br>
                        Missing: ${missedItems.join(', ')}<br>
                        <strong>Fix this NOW or stay mediocre forever.</strong>
                    </div>
                `;
            } else if (missedItems.length === 1) {
                const missedItem = missedItems[0].toLowerCase();
                let message = accountabilityMessages.general;
                
                if (missedItem.includes('training')) message = accountabilityMessages.training;
                else if (missedItem.includes('calorie')) message = accountabilityMessages.nutrition;
                else if (missedItem.includes('steps')) message = accountabilityMessages.steps;
                else if (missedItem.includes('sleep')) message = accountabilityMessages.sleep;
                else if (missedItem.includes('journal')) message = accountabilityMessages.journaling;
                
                container.innerHTML = `
                    <div class="accountability-alert">
                        ‚ö†Ô∏è ACCOUNTABILITY WARNING ‚ö†Ô∏è<br>
                        Missing: ${missedItems[0]}<br>
                        ${message}
                    </div>
                `;
            } else if (completedCount === totalRequired) {
                container.innerHTML = `
                    <div style="background-color: #d4a5a5; color: white; padding: 15px; border-radius: 8px; text-align: center; font-weight: bold;">
                        ‚úÖ FOUNDATION COMPLETE - You're living up to your commitments. This is how you build the life you want.
                    </div>
                `;
            }
        }

        function renderPerformanceScoring() {
            const container = document.getElementById('performanceScoring');
            container.innerHTML = '';
            
            performanceDomains.forEach(domain => {
                const div = document.createElement('div');
                div.className = 'performance-item';
                div.innerHTML = `
                    <h4>${domain.name}</h4>
                    <p style="font-size: 12px; margin: 5px 0;">${domain.description}</p>
                    <div class="rating-buttons">
                        ${[1,2,3,4,5].map(num => 
                            `<button class="rating-btn" onclick="setPerformanceRating('${domain.key}', ${num})">${num}</button>`
                        ).join('')}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function setPerformanceRating(domain, rating) {
            const todayKey = new Date().toDateString();
            if (!appData.dailyData[todayKey]) {
                appData.dailyData[todayKey] = {};
            }
            if (!appData.dailyData[todayKey].performance) {
                appData.dailyData[todayKey].performance = {};
            }
            
            appData.dailyData[todayKey].performance[domain] = rating;
            
            // Update UI
            const buttons = event.target.parentNode.querySelectorAll('.rating-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            saveData();
        }

        function completeMorningRitual() {
            // Collect morning data
            const todayKey = new Date().toDateString();
            if (!appData.dailyData[todayKey]) {
                appData.dailyData[todayKey] = {};
            }
            
            // Save morning questions
            const morningAnswers = {};
            morningQuestions.forEach((question, index) => {
                const answer = document.getElementById(`morning_q${index}`).value;
                morningAnswers[`q${index}`] = answer;
            });
            
            appData.dailyData[todayKey].morningQuestions = morningAnswers;
            appData.dailyData[todayKey].currentWeight = parseFloat(document.getElementById('currentWeight').value) || 105;
            appData.dailyData[todayKey].trainingDay = document.getElementById('trainingDay').value === 'training';
            appData.dailyData[todayKey].workoutType = document.getElementById('workoutType').value;
            appData.dailyData[todayKey].flameSelected = appData.currentFlame;
            
            appData.morningCompleted = true;
            appData.currentWeight = appData.dailyData[todayKey].currentWeight;
            
            updateWeightProgress();
            renderFoundationTracking();
            saveData();
            
            document.getElementById('morningStatus').innerHTML = `
                <div style="background-color: #d4a5a5; color: white; padding: 15px; border-radius: 8px; margin-top: 15px; text-align: center;">
                    ‚úÖ Morning Ritual Complete - Foundation set. Now execute with precision.
                </div>
            `;
            
            alert("Morning ritual complete! Your foundation is set. Now go execute with ruthless precision. No excuses, no shortcuts.");
        }

        function completeEveningRitual() {
            const todayKey = new Date().toDateString();
            if (!appData.dailyData[todayKey]) {
                appData.dailyData[todayKey] = {};
            }
            
            // Save evening questions
            const eveningAnswers = {};
            eveningQuestions.forEach((question, index) => {
                const answer = document.getElementById(`evening_q${index}`).value;
                eveningAnswers[`q${index}`] = answer;
            });
            
            appData.dailyData[todayKey].eveningQuestions = eveningAnswers;
            appData.eveningCompleted = true;
            
            saveData();
            
            alert("Evening ritual complete. Reflect, learn, improve. Tomorrow is another chance to exceed your own expectations.");
        }

        function completeNightPlanning() {
            const todayKey = new Date().toDateString();
            if (!appData.dailyData[todayKey]) {
                appData.dailyData[todayKey] = {};
            }
            
            appData.dailyData[todayKey].tomorrowTasks = document.getElementById('tomorrowTasks').value;
            appData.dailyData[todayKey].tomorrowFlame = document.getElementById('tomorrowFlame').value;
            appData.dailyData[todayKey].mindDump = document.getElementById('mindDump').value;
            
            saveData();
            alert("Tomorrow is planned. Your mind is clear. Sleep well and wake up ready to dominate.");
        }

        function updateWeightProgress() {
            const current = appData.currentWeight;
            const target = appData.targetWeight;
            const start = 105;
            const progress = Math.max(0, Math.min(100, ((start - current) / (start - target)) * 100));
            
            document.getElementById('weightProgress').textContent = 
                `Current: ${current}kg ‚Üí Target: ${target}kg | Progress: ${progress.toFixed(1)}% Complete`;
        }

        function exportForClaude() {
            const exportData = {
                timestamp: new Date().toISOString(),
                currentWeight: appData.currentWeight,
                targetWeight: appData.targetWeight,
                dailyData: appData.dailyData,
                weeklyData: appData.weeklyData
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const blob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `hypertrophy-os-claude-export-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            alert("Data exported for Claude analysis. Upload this file to Claude for deep coaching insights and pattern analysis.");
        }

        function exportForTim() {
            const todayKey = new Date().toDateString();
            const todayData = appData.dailyData[todayKey] || {};
            
            const timData = {
                date: todayKey,
                morningQuestions: todayData.morningQuestions || {},
                eveningQuestions: todayData.eveningQuestions || {},
                flameSelected: todayData.flameSelected,
                performance: todayData.performance || {}
            };
            
            const dataStr = JSON.stringify(timData, null, 2);
            const blob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `tim-cooper-export-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        // Export Functions
        function generateWeeklyReport() {
            const now = new Date();
            const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
            
            let weeklyData = {
                weekOf: weekAgo.toDateString(),
                currentWeight: appData.currentWeight,
                targetWeight: appData.targetWeight,
                dailyEntries: {},
                weeklyStats: {
                    foundationCompletionRate: 0,
                    flamesCompleted: 0,
                    averagePerformanceScore: 0,
                    totalDays: 0
                }
            };

            // Collect last 7 days of data
            for (let i = 0; i < 7; i++) {
                const date = new Date(now.getTime() - i * 24 * 60 * 60 * 1000);
                const dateKey = date.toDateString();
                if (appData.dailyData[dateKey]) {
                    weeklyData.dailyEntries[dateKey] = appData.dailyData[dateKey];
                    weeklyData.weeklyStats.totalDays++;
                }
            }

            return weeklyData;
        }

        function formatReportForDownload(weeklyData) {
            let report = `üî• HYPERTROPHY OS - WEEKLY ACCOUNTABILITY REPORT üî•\n\n`;
            report += `Week of: ${weeklyData.weekOf}\n`;
            report += `Current Weight: ${weeklyData.currentWeight}kg ‚Üí Target: ${weeklyData.targetWeight}kg\n`;
            report += `Progress: ${(((105 - weeklyData.currentWeight) / (105 - weeklyData.targetWeight)) * 100).toFixed(1)}%\n\n`;

            report += `üìä WEEKLY PERFORMANCE:\n`;
            report += `Days Tracked: ${weeklyData.weeklyStats.totalDays}/7\n`;
            
            if (weeklyData.weeklyStats.totalDays > 0) {
                // Foundation completion analysis
                let foundationStats = {};
                foundationItems.forEach(item => {
                    foundationStats[item.key] = 0;
                });
                
                let performanceTotal = 0;
                let performanceCount = 0;
                let flamesCompleted = 0;

                Object.entries(weeklyData.dailyEntries).forEach(([date, data]) => {
                    // Count foundation completions
                    foundationItems.forEach(item => {
                        if (data[item.key]) foundationStats[item.key]++;
                    });
                    
                    // Performance scores
                    if (data.performance) {
                        Object.values(data.performance).forEach(score => {
                            performanceTotal += score;
                            performanceCount++;
                        });
                    }
                    
                    // Flames
                    if (data.flameSelected && data.flameSelected.completed) {
                        flamesCompleted++;
                    }
                });

                report += `\nüéØ FOUNDATION TRACKING:\n`;
                foundationItems.forEach(item => {
                    const completion = foundationStats[item.key];
                    const percentage = ((completion / weeklyData.weeklyStats.totalDays) * 100).toFixed(0);
                    report += `${item.name}: ${completion}/${weeklyData.weeklyStats.totalDays} days (${percentage}%)\n`;
                });

                if (performanceCount > 0) {
                    const avgPerformance = (performanceTotal / performanceCount).toFixed(1);
                    report += `\n‚ö° AVERAGE PERFORMANCE SCORE: ${avgPerformance}/5\n`;
                }

                report += `\nüî• FLAMES CONQUERED: ${flamesCompleted}\n`;

                // Weekly insights
                report += `\nüí° WEEKLY INSIGHTS:\n`;
                const worstFoundation = Object.entries(foundationStats).reduce((worst, [key, count]) => {
                    const item = foundationItems.find(f => f.key === key);
                    return count < worst.count ? {key, count, name: item.name} : worst;
                }, {count: 7, name: 'None'});

                if (worstFoundation.count < 7) {
                    report += `‚Ä¢ Biggest opportunity: ${worstFoundation.name} (${worstFoundation.count}/7 days)\n`;
                }
                
                report += `‚Ä¢ Total tracked days: ${weeklyData.weeklyStats.totalDays}/7\n`;
                if (weeklyData.weeklyStats.totalDays < 7) {
                    report += `‚Ä¢ Missing ${7 - weeklyData.weeklyStats.totalDays} days of data - consistency is key!\n`;
                }
            }

            report += `\nüìà FOR CLAUDE ANALYSIS:\n`;
            report += `Upload the "Full Claude Analysis" JSON file to Claude for deep pattern analysis and coaching insights.\n\n`;
            
            report += `üéØ NEXT WEEK FOCUS:\n`;
            report += `1. Maintain foundation consistency\n`;
            report += `2. Walk towards bigger flames\n`;
            report += `3. Track every single day\n\n`;
            
            report += `"I am the architect of my extraordinary life."\n\n`;
            report += `Generated: ${new Date().toLocaleString('en-NZ')}`;

            return report;
        }

        function downloadWeeklyReport() {
            const weeklyData = generateWeeklyReport();
            const reportContent = formatReportForDownload(weeklyData);
            
            const blob = new Blob([reportContent], {type: 'text/plain'});
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `weekly-report-${new Date().toISOString().split('T')[0]}.txt`;
            link.click();
            
            URL.revokeObjectURL(url);
        }

        function updateWeeklyOverview() {
            const weeklyData = generateWeeklyReport();
            const container = document.getElementById('weeklyOverview');
            
            if (weeklyData.weeklyStats.totalDays === 0) {
                container.innerHTML = `
                    <p>No data for this week yet. Start tracking to see your weekly overview!</p>
                `;
                return;
            }

            // Calculate stats
            let foundationStats = {};
            foundationItems.forEach(item => {
                foundationStats[item.key] = 0;
            });
            
            let performanceTotal = 0;
            let performanceCount = 0;
            let flamesCompleted = 0;

            Object.entries(weeklyData.dailyEntries).forEach(([date, data]) => {
                foundationItems.forEach(item => {
                    if (data[item.key]) foundationStats[item.key]++;
                });
                
                if (data.performance) {
                    Object.values(data.performance).forEach(score => {
                        performanceTotal += score;
                        performanceCount++;
                    });
                }
                
                if (data.flameSelected && data.flameSelected.completed) {
                    flamesCompleted++;
                }
            });

            const avgPerformance = performanceCount > 0 ? (performanceTotal / performanceCount).toFixed(1) : 'N/A';
            const progressPercent = (((105 - weeklyData.currentWeight) / (105 - weeklyData.targetWeight)) * 100).toFixed(1);

            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div style="background: #d4a5a5; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>Days Tracked</h4>
                        <div style="font-size: 24px; font-weight: bold;">${weeklyData.weeklyStats.totalDays}/7</div>
                    </div>
                    <div style="background: #8fbc8f; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>Weight Progress</h4>
                        <div style="font-size: 24px; font-weight: bold;">${progressPercent}%</div>
                    </div>
                    <div style="background: #d2691e; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>Flames Conquered</h4>
                        <div style="font-size: 24px; font-weight: bold;">${flamesCompleted}</div>
                    </div>
                    <div style="background: #6b8e23; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>Avg Performance</h4>
                        <div style="font-size: 24px; font-weight: bold;">${avgPerformance}/5</div>
                    </div>
                </div>
            `;
        }

        function clearAllData() {
            if (confirm("Are you sure you want to clear ALL data? This cannot be undone.")) {
                localStorage.removeItem('hypertrophy-os-data');
                appData = {
                    currentWeight: 105,
                    targetWeight: 98,
                    dailyData: {},
                    weeklyData: [],
                    currentFlame: null,
                    morningCompleted: false,
                    eveningCompleted: false,
                    vision: {
                        threeMonth: `1. Physical Foundation & Energy
Over the next 3 months, my mission is clear: to reach my ideal weight of 98kg, build lean muscle, live with unstoppable energy. I will optimize my hypertrophy training with intention‚Äîtraining to failure, tracking progress, staying disciplined. My nutrition will fuel performance, recovery, taking my vitality to new levels. More than just physical, I will cultivate a lifestyle that excites me, rediscovering passion through movement, focus, joyful living.

This phase is not about a number‚Äîit's about becoming the most energetic, purpose-driven version of myself.

2. Nutrition & Energy Mastery
Today, I honour my body, feeding it with intention, momentum. Each meal is a reflection of discipline, self-respect, fueling performance, recovery, clarity. I choose foods that elevate my energy, sharpen my focus. Hydration, timing, simplicity guide me‚Äîno distractions, no apologies.

My nutrition isn't just habit. It's ritual. It's how I create momentum from within.

Over the next 3 months I will continue to progress, reach 98kg not through restriction but through refinement. My nutrition will be precise, lean, balanced, geared for hypertrophy, vitality. I understand macros, meal timing to fuel my peak performance. It must be implemented alongside my daily living.

This isn't just about food‚Äîit's about becoming someone who honors their body as the foundation for everything else.

3. Relationships & Connections
Over the next 3 months I'll build on my progress. I'll lean deeper into connection based on character. I'll express love freely to those I trust‚Äîmale or female‚Äîbecause love is clarity, not confusion. My energy will be shared with people who reflect sound moral faithfulness, emotional maturity. There will be no space for ego-driven ties or relationships built on escape.

I choose depth. I'll act from integrity, build trust through quiet consistency over judgement.

Most importantly, I will be present, open, available with my son Cory. I want him to be proud of me, I want him to know I'm proud of him. Our relationship will be built on honesty, openness, mutual respect. I show up as the father I'm now capable of being - not from deficit, but from the strength I've built through my own transformation.

This isn't about being liked‚Äîit's about becoming someone worthy of deep, honest love.

4. Mindset & Identity
Over the next 3 months I continue to train my mindset every day. Journaling, reflection, deliberate thinking help me unravel what's beneath the surface. I don't avoid fear‚ÄîI sit with it, come at it, walk towards it. My walk towards the flames. Confidence builds with effort, small steps, honest personal accountability. Thinking deeper means I slow down enough to see what matters‚Äîdiscern what doesn't.

This isn't about positive thinking‚Äîit's about becoming someone who faces truth and grows stronger from it.

5. Precision Systems & Environmental Integrity
Over the next 3 months I refine the systems that support my rhythm. My tools, calendar, processes, space are intentional. I remove friction where it slows me down. My desktop, my phone, my bedroom, my food prep‚Äîeverything reflects order. I keep my workflow lean, my planning clean, my day structured. This isn't obsession. It's ownership.

Every day I wake up knowing what I need to do‚Äînot because I memorized it, but because my systems remember for me. I automate freedom.

This isn't about organization‚Äîit's about becoming someone whose environment amplifies their best self.

6. Business Liberation & Strategic Lifestyle Design
Over the next 3 months, I build ProBrands with financial clarity, emotional precision. My systems are clean, scalable. My delivery is seamless, trustworthy. My operations reflect simplicity, strength. Every step matters. No double handling. No confusion. I utilize AI to enhance speed, achieve excellence.

I care deeply, I give generously‚Äîbut I no longer attach emotionally to clients who don't see the work, the discipline, the heart. I attract customers who value our service, trust our consistency. Our team treats every order with urgency, respect. Our brand becomes known not for price‚Äîbut for excellence, peace of mind.

Thailand becomes more than relocation‚Äîit becomes the rhythm of my new life. This business begins paying for my lifestyle, my clarity, my freedom. I protect energy, elevate others. This is structure and soul.

This isn't about making money‚Äîit's about becoming someone whose work funds their freedom and purpose.

7. Financial Freedom & Worthiness
Over the next 3 months, I walk towards my money flames. Like hypertrophy - low and slow, constantly building, clear, concise, measured. I face my fear of failure by walking towards the flame instead of avoiding financial decisions. I build worthiness by setting concrete targets - trips to Thailand, relocation fund goals, learning to invest for the first time. I balance wealth and ego by staying laser beam focused on my life in Thailand - money as fuel for freedom, not validation.

My financial systems include: Thailand relocation fund with specific targets, learning investment basics and taking first steps, monthly financial reviews, emergency fund building, and tracking every dollar with intention. I'm walking into investing as a complete beginner - no shame, just courage to learn and grow.

This isn't about getting rich quick - it's about building unshakeable financial foundation for my extraordinary life.

This isn't about getting rich‚Äîit's about becoming someone worthy of wealth who uses it to create extraordinary impact.`,

                        twelveMonth: `1. Physical Transformation
12 months from now, I will wake up embodying a life where health isn't something I do‚Äîit is who I am. My habits will be ingrained, automatic, empowering. Training, eating, sleeping, reflecting with intention. I will cultivate radiant confidence through discipline, self-belief, becoming someone who enters every room with quiet strength. Physically, I will be in the best shape of my life‚Äîbut more importantly I will be mentally grounded, at peace. This is the year the fruit appears from what I have planted, I start living as my highest self.

2. Nutrition Integration
12 months from now, my nutrition will be a seamless extension of who I am‚Äîautomatic, intuitive, consistently aligned. Food will be functional, joyful, tailored to performance, recovery, long-term vitality. I'll eat with awareness, structure, freedom. No mental clutter, no guilt‚Äîjust alignment. My energy will stay high without crashing, my choices will reflect respect for the body I have sculpted. This is nutrition as identity‚Äînot just habit, but lifestyle embodiment.

3. Relationship Mastery
12 months from now, my circle will be small, intentional, spiritually strong. I'll be surrounded by people who value my presence not for what I offer but for how I live. We'll grow together, speak truth above all, hold space when it's needed. I'll remain open, emotionally expressive, unafraid to say "I love you" when love is earned. Relationships will feel like home‚Äîsafe, honest, built on values, not image.

My relationship with Cory will be a source of mutual pride. He'll see what transformation looks like when someone refuses to stay stuck. Our conversations will be open, honest, available. I'll be the father he deserves because I've done the work to show up fully - present, grounded, proud of who he is, worthy of his pride in return.

4. Mental Excellence
In 12 months time, my mindset is structured, intentional. I've rewired how I think, not just what I think. I catch old patterns before they push me off course. I build clarity through reflection, courage through repetition. The deeper I think, the cleaner I act. I trust the process because I see results in how I carry myself, lead.

5. Systems Mastery
One year from now, my life runs on invisible discipline. My environment is not loud‚Äîbut it speaks. Every object has a purpose. Every system earns its place. My habits are ingrained through design‚Äînot force. People around me feel calm when I walk in, not because I demand it, but because my presence reflects clarity. I no longer sprint through chaos. I move with structure. My energy isn't wasted‚ÄîI direct it.

6. Business Excellence
One year from now, ProBrands moves with precision, presence. The company earns loyalty through structure, delivery. Clients refer us because we bring order, remove burden. We lead with clarity, follow through with speed.

My admin team in Thailand handles operations with ease, autonomy. My financial framework supports mobility, protection. NZ tax no longer drains me‚ÄîI've found the flow. The business funds health, vitality, aligned living. I lead from peace, not pressure.

I no longer hustle. I strategize, simplify. My decisions reflect leadership and love‚Äîfor myself, my team, the life I'm sculpting.

7. Financial Mastery
12 months from now, my relationship with money has completely transformed. What started as walking towards flames as a complete investing beginner has become confident financial leadership in my own life. My investment portfolio is established and growing - I understand the fundamentals, have automated systems, and make decisions from knowledge, not fear.

My Thailand relocation fund is fully funded and ready. The move isn't a desperate escape but a strategic choice backed by solid financial planning. My emergency fund provides peace of mind. My monthly financial reviews show consistent growth and progress.

Most importantly, I no longer question my worthiness of wealth. Money flows to me because I've done the inner work - I deserve financial abundance, I handle it responsibly, I use it to create the life I've designed. The old "too small, useless" voices have no power over my financial decisions.

I lead from financial confidence. Cory sees what's possible when someone commits to learning, growing, and walking towards money flames instead of avoiding them. My generosity comes from abundance, not ego. I invest in my health, my relationships, my systems, my business growth without scarcity thinking.

I no longer fear financial failure because I've built antifragile systems. My wealth supports my extraordinary life in Thailand - not as validation, but as freedom to live with intention, energy, and purpose.`,

                        threeYear: `1. Physical Mastery & Energetic Leadership
3 years from now, I will be living in an environment that supports radiant energy‚Äîfrom the meals I prepare to the rhythm of my day. Whether I'm training hard, travelling, or leading others, my energy will remain consistent, magnetic. I'll teach what I live‚Äîsharing the philosophy of fueling transformation, not chasing trends. My vitality will be contagious.

2. Nutritional Mastery & Environmental Leadership
3 years from now, my nutrition will reflect longevity, anti-inflammation, optimized, inspired by movement, purpose. Food will be a celebration, regeneration, alignment. My nutritional choices create momentum that others feel, learn from, aspire to embody.

3. Relationship Leadership
3 years from now, I'll be known for how I make others feel‚Äîsafe, seen, uplifted. My relationships will reflect loyalty, emotional leadership, unwavering integrity. Those close to me will know my presence is grounded‚Äîno agendas, just truth. I'll lead with humility, listen with compassion, honour people's journeys without needing control. This legacy of connection will be my quiet impact‚Äîbuilt not through status but through soul.

The relationship with my son Cory will be the crown jewel of my transformation. He'll know that my self-work wasn't selfish‚Äîit was the foundation that allowed me to show up as the father he always deserved. Our bond will be deep, honest, mutually respectful. He'll carry forward the example of what's possible when someone chooses growth over stagnation, courage over comfort.

4. Mental Mastery & Presence
Over 3 years I've created a mental environment built for depth, discipline. Thoughts are no longer distractions‚Äîthey are tools. My inner voice is precise, steady, clear. I think deeply, speak clearly, act deliberately. People feel the strength of my mind through my presence.

This is who I am now‚ÄîI've earned it.

5. Systems Legacy
Three years from now, I live inside a well-built machine‚Äîthoughtful, elegant, powerful. My systems amplify creativity, support emotional clarity, automate success. My space makes me better, my habits compound effortlessly.

I don't hustle‚ÄîI execute. I don't react‚ÄîI respond. Discipline isn't loud for me‚Äîit's layered into everything I touch. When people step into my life, they feel it: this is someone who lives with built-in precision. I don't need to explain it‚Äîthey just know.

6. Business Legacy
Three years from now, ProBrands is a living example of values, execution. Our brand stands for reliability, intention. Our systems amplify growth, reduce stress. Our culture reflects urgency, respect.

I reside in Thailand‚Äînot as escape, but as alignment. My real estate portfolio expands with consistency, clarity. My finances are clean. My structure is intentional. My business funds my freedom, future.

I share what I've built. My close friends in New Zealand see the path‚Äînot as fantasy, but as blueprint. I offer strategy, support. I give them clarity, options. They follow not because I said so‚Äîbut because they see how I live, work, feel. This is leadership with vision, humility. Their freedom becomes part of my legacy.

7. Financial Legacy
Three years from now, I live in complete financial freedom in Thailand - not as someone who got lucky, but as someone who systematically walked towards every money flame and built unshakeable wealth through discipline and learning.

My investment portfolio generates enough passive income to fund my extraordinary life. The man who had never invested before now has financial systems that run like a well-built machine - growing wealth while I sleep, train, build relationships, and live with complete freedom. My real estate investments provide additional streams. My financial education transformed me from beginner to confident wealth builder.

I reside in Thailand not as escape from financial pressure, but as the ultimate expression of financial choice. Every domain of my life is now fully funded - the best nutrition, optimal training environments, incredible experiences with loved ones, systems that truly serve me, business investments that align with purpose rather than desperation.

Most powerfully, I've become living proof that worthiness blocks can be completely healed. The boy who was told he was "too small, useless" now manages significant wealth with wisdom and intention. Cory witnesses what's possible when someone refuses to accept financial limitations.

My wealth creates ripple effects. I support my closest friends' growth, invest in others' extraordinary lives, create opportunities that wouldn't exist without financial abundance. Not from ego or to prove anything - but because I've learned that true wealth is having enough to live extraordinarily and lift others up.

Money has become what it always should have been - a tool for freedom, impact, and love. I've earned my place here through walking towards every flame that stood between me and worthiness.

"I am the architect of my extraordinary life."`
                    }
                };
                saveData();
                location.reload();
            }
        }

        function saveData() {
            localStorage.setItem('hypertrophy-os-data', JSON.stringify(appData));
        }

        function loadData() {
            const saved = localStorage.getItem('hypertrophy-os-data');
            if (saved) {
                appData = {...appData, ...JSON.parse(saved)};
            }
        }

        // Vision Management Functions
        function showVision(timeframe) {
            // Update tab states
            document.querySelectorAll('.vision-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update panel states
            document.querySelectorAll('.vision-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.getElementById(`vision-${timeframe}`).classList.add('active');
        }

        function editVision() {
            // Create edit interface
            const visionContent = document.getElementById('visionContent');
            visionContent.innerHTML = `
                <div class="vision-edit">
                    <h4>Edit Your Transformation Vision</h4>
                    
                    <div class="question-group">
                        <label class="question-label">3 Month Intents (Read Daily):</label>
                        <textarea id="edit-3month" placeholder="What will you achieve in the next 3 months? Be specific and measurable...">${appData.vision.threeMonth}</textarea>
                    </div>
                    
                    <div class="question-group">
                        <label class="question-label">12 Month Goals:</label>
                        <textarea id="edit-12month" placeholder="Where will you be in 12 months? What will have changed?">${appData.vision.twelveMonth}</textarea>
                    </div>
                    
                    <div class="question-group">
                        <label class="question-label">3 Year Transformation Vision:</label>
                        <textarea id="edit-3year" placeholder="Your ultimate transformation. Paint the picture of your new life...">${appData.vision.threeYear}</textarea>
                    </div>
                    
                    <button class="btn btn-primary" onclick="saveVision()">Save Vision</button>
                    <button class="btn" onclick="cancelVisionEdit()">Cancel</button>
                </div>
            `;
        }

        function saveVision() {
            appData.vision.threeMonth = document.getElementById('edit-3month').value;
            appData.vision.twelveMonth = document.getElementById('edit-12month').value;
            appData.vision.threeYear = document.getElementById('edit-3year').value;
            
            saveData();
            updateVisionDisplay();
            
            alert("üéØ Vision saved! These intents will now drive your daily decisions. Read them every morning to stay connected to your transformation.");
        }

        function cancelVisionEdit() {
            updateVisionDisplay();
        }

        function updateVisionDisplay() {
            const visionContent = document.getElementById('visionContent');
            visionContent.innerHTML = `
                <div id="vision-3month" class="vision-panel active">
                    <h4>3 Month Intents (Read Daily)</h4>
                    <div id="display-3month" class="vision-display">${appData.vision.threeMonth || 'Click "Edit Vision" to set your 3-month intents'}</div>
                </div>
                <div id="vision-12month" class="vision-panel">
                    <h4>12 Month Goals</h4>
                    <div id="display-12month" class="vision-display">${appData.vision.twelveMonth || 'Click "Edit Vision" to set your 12-month goals'}</div>
                </div>
                <div id="vision-3year" class="vision-panel">
                    <h4>3 Year Transformation Vision</h4>
                    <div id="display-3year" class="vision-display">${appData.vision.threeYear || 'Click "Edit Vision" to set your 3-year vision'}</div>
                </div>
            `;
        }

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
